(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t){},118:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(17),r=a.n(c),o=a(6),l=a(15),i=a(1),m=a(2),u=a(4),d=a(3),p=a(5),h=a(13),v=a(27),E=a(28),f=a.n(E),g=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a,n,s){var c={name:e,username:a,email:n,password:s};return t.service.post("/authenticate/signup",c)},this.login=function(e,a){var n={username:e,password:a};return t.service.post("/authenticate/login",n)},this.getCurrentUser=function(){return t.service.get("/authenticate/getcurrentuser")},this.updateCurrentUser=function(e,a,n){var s={name:e,username:a,email:n};return t.service.put("/authenticate/updateuser/",s)},this.getUserLocation=function(e){return t.service.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(e.coords.latitude,"+").concat(e.coords.longitude,"&key=614cbe4035a04205bc7d3451acfe5004"))},this.getUserById=function(e){return t.service.get("/authenticate/getuser/".concat(e))},this.getUserActivity=function(e){return t.service.get("/api/authenticate/getuseractivity/".concat(e))},this.getPublicPosts=function(){return t.service.get("/api/posts/public")},this.getFeedPosts=function(){return t.service.get("/api/posts/feed")},this.createPost=function(e,a){var n={title:e,content:a};return t.service.post("/api/post/create",n)},this.deletePost=function(e){return t.service.delete("/api/post/delete/".concat(e))},this.updatePost=function(e){var a=Object(v.a)({},e);return t.service.put("/api/post/update",a)},this.logoutUser=function(){return t.service.post("/authenticate/logout")},this.createAnswer=function(e,a){var n={post:e,content:a};return t.service.post("/api/answer/create",n)},this.deleteAnswer=function(e){return t.service.delete("/api/answer/delete/".concat(e))},this.getAnswers=function(e){return t.service.get("/api/answers/".concat(e))},this.searchResults=function(e){return t.service.get("/api/serch/results/".concat(e))},this.getQuestion=function(e){return t.service.get("/api/post/".concat(e))},this.addFriend=function(e){return t.service.post("/api/friend/add/".concat(e))},this.removeFriend=function(e){return console.log("service",e),t.service.post("/api/friend/remove/".concat(e))},this.acceptRequest=function(e){return t.service.post("/api/friend/accept/".concat(e))},this.deniedRequest=function(e){return t.service.post("/api/friend/denied/".concat(e))};var a=f.a.create({baseURL:"https://devsol-api.herokuapp.com",withCredentials:!0});this.service=a},w=s.a.createContext(),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={user:"",friendsIDs:[],activity:null,searchData:null},a.getCurrentUser=function(){a.service=new g,a.service.getCurrentUser().then(function(e){console.log(e.data),a.setState({user:e.data.user,friendsIDs:e.data.friendsIDs})}).catch(function(e){console.log(e)})},a.handleSearchData=function(e){a.setState({searchData:e})},a.authenticateUser=function(e){a.setState({user:e})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentUser()}},{key:"render",value:function(){return s.a.createElement(w.Provider,{value:{user:this.state.user,friendsIDs:this.state.friendsIDs,authenticateUser:this.authenticateUser,handleSearchData:this.handleSearchData,searchData:this.state.searchData,getCurrentUser:this.getCurrentUser}},this.props.children)}}]),t}(n.Component);var b=function(e){return s.a.createElement("ul",{id:e.type,class:"dropdown-content"},e.userIcon&&s.a.createElement(n.Fragment,null,s.a.createElement("li",null,s.a.createElement(o.b,{to:"/profile"},"Profile")),s.a.createElement("li",null,s.a.createElement("a",{onClick:e.userLogout},"Logout"))),e.notificationIcon&&s.a.createElement(n.Fragment,null,e.notifications.map(function(t){return s.a.createElement("li",{className:"row no-margin"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("span",null,t.name," wants to be your friend")),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s5"},s.a.createElement("button",{onClick:function(){return e.acceptRequest(t._id)},className:"btn-flat btn-small notif-accept-btn"},s.a.createElement("i",{className:"notif-icon material-icons"},"check"))),s.a.createElement("div",{className:"col s5 push-s2"},s.a.createElement("button",{onClick:function(){return e.deniedRequest(t._id)},className:"btn-flat btn-small notif-denied-btn"},s.a.createElement("i",{className:"notif-icon material-icons"},"close")))))})),e.messageIcon&&s.a.createElement(n.Fragment,null,s.a.createElement("li",null,s.a.createElement("a",{href:"#!"},"Message 1")),s.a.createElement("li",null,s.a.createElement("a",{href:"#!"},"Message 2")),s.a.createElement("li",null,s.a.createElement("a",{href:"#!"},"Message 3"))))};var y=function(e){return s.a.createElement("div",{id:e.type,className:"modal"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 center-align"},s.a.createElement("h4",{className:"modal-title"},e.title))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("form",{ref:e.setForm,id:e.type,class:"col s12",onSubmit:e.handleSubmit},e.signup?s.a.createElement(n.Fragment,null,s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"name",type:"text",name:"name",class:"validate"}),s.a.createElement("label",{htmlFor:"name"},"Name"))),s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"username",type:"text",name:"username",class:"validate"}),s.a.createElement("label",{htmlFor:"username"},"Username"))),s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"email",type:"email",name:"email",class:"validate"}),s.a.createElement("label",{htmlFor:"email"},"Email")))):s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"ename",type:"text",name:"username",class:"validate"}),s.a.createElement("label",{htmlFor:"ename"},"Email or username"))),s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"password",type:"password",name:"password",class:"validate"}),s.a.createElement("label",{htmlFor:"password"},"Password"))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12 center-align"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{className:"btn modal-close"},"Submit"))),e.signup?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("span",null,"Or"),s.a.createElement("a",{href:"http://localhost:8080/auth/github",className:"btn"},"Signup with Github"))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("span",null,"Or"),s.a.createElement("a",{href:"http://localhost:8080/auth/github",className:"btn"},"Login with Github"))))))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("a",{onClick:e.toggleModal,className:"waves-effect waves-green btn-flat"},"Close")))},F=a(14),k=a.n(F),x=(a(118),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={userDropdown:!1,notificationDropdown:!1,messageDropdown:!1,loginModal:!1,signupModal:!1},a.handleSubmit=function(e){e.preventDefault(),a.service=new g;var t=new FormData(e.target),n=t.get("name"),s=t.get("username"),c=t.get("email"),r=t.get("password");t.get("ename");"modal1"===e.target.id?a.service.login(s,r).then(function(e){a.form1.reset(),a.context.authenticateUser(e.data.user),a.props.history.push("/feed")}).catch(function(e){console.log(e)}):a.service.signup(n,s,c,r).then(function(e){a.form2.reset(),a.context.authenticateUser(e.data.user),a.props.history.push("/feed")}).catch(function(e){console.log(e)})},a.setForm1=function(e){a.form1=e},a.setForm2=function(e){a.form2=e},a.userLogout=function(){a.service=new g,a.service.logoutUser().then(function(e){a.socket=k()("https://devsol-api.herokuapp.com"),a.socket.emit("logoutEvent",a.context.user),a.context.authenticateUser("")}).catch(function(e){console.log(e)})},a.handleSearchForm=function(e){e.preventDefault();var t=new FormData(e.target).get("search");a.props.history.push("/search?q=".concat(t)),a.context.getCurrentUser()},a.toggleDropdown=function(e){a.setState(Object(h.a)({},e,!a.state[e]))},a.toggleModal=function(e){a.setState(Object(h.a)({},e,!a.state[e]))},a.acceptRequest=function(e){a.services=new g,a.services.acceptRequest(e).then(function(e){a.context.getCurrentUser()}).catch(function(e){console.log(e)})},a.deniedRequest=function(e){a.services=new g,a.services.deniedRequest(e).then(function(e){a.context.getCurrentUser()}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=k()("https://devsol-api.herokuapp.com"),this.socket.on("friendNotification",function(t){e.context.getCurrentUser()})}},{key:"render",value:function(){var e=this;return r.a.createPortal(s.a.createElement("nav",null,s.a.createElement("div",{className:"my-container full-height"},s.a.createElement("div",{className:"row no-margin full-height"},s.a.createElement("div",{className:"col s2 full-height logo-container"},s.a.createElement(o.b,{to:"/",className:"title-link"},s.a.createElement("img",{src:"/assets/logo2.png",width:"100px"}))),s.a.createElement("form",{className:"col s7 no-margin full-height vertical-align",onSubmit:this.handleSearchForm},s.a.createElement("input",{placeholder:"Search",className:"search-input",type:"text",name:"search"})),s.a.createElement("div",{className:"col s3"},this.context.user?s.a.createElement("ul",{className:"nav-ul"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){return e.toggleDropdown("userDropdown")},className:"btn my-btn"},s.a.createElement("i",{className:"material-icons"},"person"))),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){return e.toggleDropdown("notificationDropdown")},className:"btn my-btn"},s.a.createElement("i",{className:"material-icons"},"notifications"))),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){return e.toggleDropdown("messageDropdown")},className:"btn my-btn"},s.a.createElement("i",{className:"material-icons"},"mail"))),this.state.userDropdown&&s.a.createElement(b,{type:"userDropdown",userIcon:!0,userLogout:this.userLogout}),this.state.notificationDropdown&&s.a.createElement(b,{type:"notificationDropdown",notificationIcon:!0,notifications:this.context.user.friends.incomingRequests,acceptRequest:this.acceptRequest,deniedRequest:this.deniedRequest}),this.state.messageDropdown&&s.a.createElement(b,{type:"messageDropdown",messageIcon:!0})):s.a.createElement("ul",{className:"nav-ul"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){return e.toggleModal("loginModal")},className:"btn modal-trigger"},"Login")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){return e.toggleModal("signupModal")},className:"btn modal-trigger"},"Signup")),this.state.loginModal&&s.a.createElement(y,{type:"modal1",title:"Login",login:!0,handleSubmit:this.handleSubmit,setForm:this.setForm1,toggleModal:function(){return e.toggleModal("loginModal")}}),this.state.signupModal&&s.a.createElement(y,{type:"modal2",title:"Signup",signup:!0,handleSubmit:this.handleSubmit,setForm:this.setForm2,toggleModal:function(){return e.toggleModal("signupModal")}})))))),document.getElementById("header"))}}]),t}(n.Component));x.contextType=w;var O=Object(l.g)(x);var j=function(){return s.a.createElement("div",{className:"row titles-row no-margin"},s.a.createElement("div",{className:"col s12 titles-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h1",{className:"main-title"},"DevSol"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h3",{className:"main-subtitle"},"Connect, Share, and Grow"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s5"},s.a.createElement("p",{className:"main-p"},"DevSol is an open community for developers around the world. We help you to have INSTANT solutions to any of your coding questions, connect with developers, and grow together")))))},P=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(O,null),s.a.createElement(j,null))}}]),t}(n.Component),C=a(12),S=a.n(C),A=a(19);var D=function(){return s.a.createElement("div",{className:"col s2 my-sidenav top-space"},s.a.createElement("div",{className:"row"},s.a.createElement(o.c,{to:"/feed",activeClassName:"is-active",className:"col s12 btn-flat sidenav-link"},"Feed")),s.a.createElement("div",{className:"row"},s.a.createElement(o.c,{to:"/public",activeClassName:"is-active",className:"col s12 btn-flat sidenav-link"},"Public")))};var q=function(e){return s.a.createElement("div",{className:"row answer-row"},s.a.createElement("div",{className:"row no-margin vertical-align"},s.a.createElement("div",{className:"col s11"},s.a.createElement("p",null,e.content)),s.a.createElement("div",{className:"col s1"},s.a.createElement("button",{className:"btn-flat",onClick:function(){return e.deleteAnswer(e._id)}},s.a.createElement("i",{class:"material-icons"},"delete")))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s4 push-s8 right-align"},"Answered by: ",e.owner.name)))},U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={post:a.props.post,answers:a.props.post.answers,newTitle:a.props.post.title,newContent:a.props.post.content,edit:!1,viewAnswers:!1},a.togglePostInfo=function(){a.setState({edit:!a.state.edit})},a.sendPostInfo=function(){var e={id:a.state.post._id,title:a.state.newTitle,content:a.state.newContent};a.props.updatePost(e,function(){a.setState({edit:!1,post:Object(v.a)({},a.state.post,{title:a.state.newTitle,content:a.state.newContent})})})},a.handleEditChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.sendPostID=function(){a.props.deletePost(a.state.post._id)},a.toggleAnswers=function(){a.setState({viewAnswers:!a.state.viewAnswers})},a.handleAnswerForm=function(e){e.preventDefault(),a.service=new g;var t=new FormData(e.target).get("answer");a.service.createAnswer(a.state.post._id,t).then(function(e){a.form.reset(),a.getPostAnswers()}).catch(function(e){console.log(e)})},a.setAnswerForm=function(e){a.form=e},a.getPostAnswers=function(){a.service=new g,a.service.getAnswers(a.state.post._id).then(function(e){console.log(e),a.setState({answers:e.data.answers})}).catch(function(e){console.log(e)})},a.deleteAnswer=function(e){a.sertvice=new g,a.sertvice.deleteAnswer(e).then(function(e){a.getPostAnswers()}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row post-card"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s10"},this.state.edit?s.a.createElement("input",{name:"newTitle",value:this.state.newTitle,onChange:this.handleEditChange}):s.a.createElement(o.b,{to:"/question/".concat(this.state.post._id)},s.a.createElement("p",{className:"post-title"},this.state.post.title))),this.context.user&&this.context.user._id===this.props.post.owner._id&&s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"col s1"},s.a.createElement("button",{className:"btn-flat",onClick:this.togglePostInfo},s.a.createElement("i",{class:"material-icons"},"edit"))),s.a.createElement("div",{className:"col s1"},s.a.createElement("button",{className:"btn-flat",onClick:this.sendPostID},s.a.createElement("i",{class:"material-icons"},"delete"))))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12"},this.state.edit?s.a.createElement("textarea",{name:"newContent",value:this.state.newContent,onChange:this.handleEditChange}):s.a.createElement("p",null,this.state.post.content))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"vertical-align"},s.a.createElement("div",{className:"col s4 no-margin"},s.a.createElement("button",{onClick:this.toggleAnswers,className:"btn-flat vertical-align"}," ",s.a.createElement("i",{class:"material-icons"},"keyboard_arrow_down"),this.state.viewAnswers?"Hide Answers":"Answers")),s.a.createElement("div",{className:"col s5 push-s3 center-align no-margin"},s.a.createElement("p",null,s.a.createElement("b",null,"Asked by: "),this.props.post.owner.name)))),this.state.edit&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s2 push-s8"},s.a.createElement("button",{className:"btn-flat",onClick:this.togglePostInfo},"Cancel")),s.a.createElement("div",{className:"col s2 push-s8"},s.a.createElement("button",{className:"btn",onClick:this.sendPostInfo},"Update"))),this.state.viewAnswers&&s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"container answers-container"},this.state.answers.map(function(t){return s.a.createElement(q,Object.assign({},t,{deleteAnswer:e.deleteAnswer}))})),s.a.createElement("div",{className:"row no-margin form-answer-container"},s.a.createElement("form",{ref:this.setAnswerForm,className:"col s12",onSubmit:this.handleAnswerForm},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s10"},s.a.createElement("input",{className:"answer-input",name:"answer"})),s.a.createElement("div",{className:"col s2"},s.a.createElement("button",{className:"btn answer-button"},"Answer"))))))))}}]),t}(n.Component);U.contextType=w;var I=U;var _=function(e){return s.a.createElement("div",{className:"col s7 top-space"},s.a.createElement("div",{className:"row vertical-align"},s.a.createElement("div",{className:"col s9"},s.a.createElement("h2",{className:"public-questions-title"},"Top Questions")),s.a.createElement("div",{className:"col s3"},s.a.createElement("button",{className:"btn",onClick:e.togglePostForm},e.postForm?"Hide Form":"Ask Question"))),e.postForm&&s.a.createElement("div",{class:"row"},s.a.createElement("form",{ref:e.setPostForm,class:"col s12",onSubmit:e.handlePostSubmit},s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"title",type:"text",name:"title"}),s.a.createElement("label",{htmlFor:"title"},"Title"))),s.a.createElement("div",{class:"row no-margin"},s.a.createElement("div",{class:"input-field col s12"},s.a.createElement("input",{id:"description",type:"text",name:"description"}),s.a.createElement("label",{htmlFor:"description"},"Description"))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12 right-align"},s.a.createElement("button",{className:"btn"},"Post"))))),e.posts.map(function(t){return s.a.createElement(I,{key:t._id,post:t,updatePost:e.updatePost,deletePost:e.deletePost})}))},M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={question:a.props.question},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"row no-margin activity-results-div"},s.a.createElement("div",{className:"col s12"},s.a.createElement(o.b,{to:"/question/".concat(this.props.question._id)},this.props.question.title)))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={answer:a.props.answer},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"row no-margin activity-results-div"},s.a.createElement("div",{className:"col s12"},s.a.createElement(o.b,{to:"/question/".concat(this.props.answer.post)},this.props.answer.content)))}}]),t}(n.Component),T=a(37),L=a.n(T),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={name:a.context.user.name,username:a.context.user.username,email:a.context.user.email},a.handleInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.resetForm=function(){a.setState({name:a.context.user.name,username:a.context.user.username,email:a.context.user.email})},a.handleSubmitForm=function(e){e.preventDefault(),a.services=new g,a.services.updateCurrentUser(a.state.name,a.state.username,a.state.email).then(function(e){a.context.getCurrentUser()}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){L.a.Tabs.init(document.querySelectorAll(".tabs")),L.a.Modal.init(document.querySelectorAll(".modal"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"col s7 top-space"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s4 center-align"},s.a.createElement("img",{src:this.context.user.img,width:"120px"})),s.a.createElement("div",{className:"col s6"},s.a.createElement("h3",{className:"no-margin"},this.context.user.name),s.a.createElement("p",null,s.a.createElement("b",null,"Username: "),this.context.user.username),s.a.createElement("p",null,s.a.createElement("i",{class:"material-icons"},"location_on"),"Miami"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s9"},s.a.createElement("ul",{className:"tabs"},s.a.createElement("li",{className:"tab col s4"},s.a.createElement("a",{className:"active no-padding",href:"#questions"},"Questions")),s.a.createElement("li",{className:"tab col s4"},s.a.createElement("a",{className:"no-padding",href:"#answers"},"Answers")),s.a.createElement("li",{className:"tab col s4"},s.a.createElement("a",{className:"no-padding",href:"#friends"},"Friends")))),s.a.createElement("div",{className:"col s3 right-align"},s.a.createElement("a",{className:"btn modal-trigger",href:"#edit-modal"},"Edit Profile")),s.a.createElement("div",{id:"questions",className:"col s12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6"},s.a.createElement("h4",null,"Your Questions"),this.props.activity&&this.props.activity.posts.map(function(e){return s.a.createElement(M,{question:e})})))),s.a.createElement("div",{id:"answers",className:"col s12"},s.a.createElement("h4",null,"Your Answers"),this.props.activity&&this.props.activity.answers.map(function(e){return s.a.createElement(R,{answer:e})})),s.a.createElement("div",{id:"friends",className:"col s12"},s.a.createElement("ul",{class:"row collection users-collection friends-ul"},this.context.user.friends.friendsList.length>0?this.context.user.friends.friendsList.map(function(e){return s.a.createElement("li",{className:"col s5 collection-item avatar friends-card"},s.a.createElement("img",{src:e.img,alt:"",className:"circle friends-img"}),s.a.createElement("span",{className:"title"},e.username))}):s.a.createElement("span",null,"No Friends")))),s.a.createElement("div",{id:"edit-modal",className:"modal"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h5",null,"Edit your profile"))),s.a.createElement("div",{className:"row"},s.a.createElement("form",{id:"edit-form",className:"col s12",onSubmit:this.handleSubmitForm},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{id:"name",type:"text",name:"name",className:"validate",value:this.state.name,onChange:this.handleInputChange}),s.a.createElement("label",{id:"name-label",for:"name",className:"active"},"Name"))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{id:"username",type:"text",name:"username",className:"validate",value:this.state.username,onChange:this.handleInputChange}),s.a.createElement("label",{id:"username-label",for:"username",className:"active"},"Username"))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{id:"email",type:"email",name:"email",className:"validate",value:this.state.email,onChange:this.handleInputChange}),s.a.createElement("label",{id:"email-label",for:"email",className:"active"},"Email")))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"modal-close btn-flat",onClick:this.resetForm},"Cancel"),s.a.createElement("button",{form:"edit-form",className:"modal-close btn"},"Submit"))))}}]),t}(n.Component);B.contextType=w;var Q=B,G=a(63),H=a.n(G),Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={_id:"",title:"",content:"",owner:"",answers:[]},a.getPostAnswers=function(){a.service=new g,a.service.getAnswers(a.state._id).then(function(e){a.setState({answers:e.data.answers})}).catch(function(e){console.log(e)})},a.handleSubmitAnswer=function(e){e.preventDefault(),a.services=new g;var t=new FormData(e.target).get("answer");a.service.createAnswer(a.state._id,t).then(function(e){a.form.reset(),a.getPostAnswers()}).catch(function(e){console.log(e)})},a.setForm=function(e){a.form=e},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service=new g,this.service.getQuestion(this.props.match.params.id).then(function(t){console.log(t),e.setState({_id:t.data.post._id,title:t.data.post.title,content:t.data.post.content,owner:t.data.post.owner.name,answers:t.data.post.answers})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"col s7 top-space"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h3",null,this.state.title))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12 right-align"},s.a.createElement("span",null,H()(this.state.createdAt).fromNow())))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("p",null,this.state.content))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 right-align"},s.a.createElement("span",null,s.a.createElement("b",null,"Asked by: "),this.state.owner))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row no-margin answers-title-row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("p",null,this.state.answers.length," Answers"))),s.a.createElement("div",{className:"row full-width"},this.state.answers.map(function(e){return s.a.createElement("div",{className:"col s12 answers-row"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12"},s.a.createElement("p",null,e.content))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12 right-align"},s.a.createElement("span",null,s.a.createElement("b",null,"Answered by: "),e.owner.name))))}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h4",null,"Your Answer"))),s.a.createElement("div",{className:"row"},s.a.createElement("form",{ref:this.setForm,className:"col s12",onSubmit:this.handleSubmitAnswer},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("textarea",{name:"answer",className:"answer-textarea"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{className:"btn"},"Answer")))))))}}]),t}(n.Component),J=Object(l.g)(Y),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={onlineUsers:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=k()("https://devsol-api.herokuapp.com"),this.socket.on("connect",function(){e.socket.emit("web:online",e.context.user)}),this.socket.on("loginEvent",function(t){e.setState({onlineUsers:t})}),this.socket.on("userDisconnect",function(t){e.setState({onlineUsers:t})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col s3 top-space"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s11 push-s1 center-align users-panel"},s.a.createElement("div",{className:"row no-margin user-box-title"},s.a.createElement("div",{className:"col s12"},s.a.createElement("span",null,"Connected users"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("ul",{class:"collection users-collection"},this.state.onlineUsers.map(function(t){return s.a.createElement("li",{class:"collection-item avatar"},s.a.createElement("img",{src:t.img,alt:"",class:"circle"}),e.context.user._id===t.id?s.a.createElement("span",{class:"title"},t.name," (Me)"):s.a.createElement("span",{class:"title"},t.name),s.a.createElement("p",{className:"online-text"},"online"),s.a.createElement(o.b,{to:"/chat/".concat(e.context.user._id,"/").concat(t.id),class:"secondary-content"},s.a.createElement("i",{className:"material-icons send-icon"},"send")))})))))))}}]),t}(n.Component);W.contextType=w;var $=W,z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={feed:[],public:[],postForm:!1,activity:null},a.getUserLocation=function(){navigator.geolocation?(a.service=new g,navigator.geolocation.getCurrentPosition(function(e){f.a.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(e.coords.latitude,"+").concat(e.coords.longitude,"&key=614cbe4035a04205bc7d3451acfe5004")).then(function(e){var t=e.data.results[0].components;t.county,t.state_code;console.log(e)}).catch(function(e){console.log(e)})},function(e){e.code==e.PERMISSION_DENIED&&console.log("You denied Geolocation")})):console.log("Geolocation is not supported")},a.getInfo=Object(A.a)(S.a.mark(function e(){var t,n,s;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.service=new g,e.next=3,a.service.getFeedPosts();case 3:return t=e.sent,e.next=6,a.service.getPublicPosts();case 6:if(n=e.sent,!a.context.user){e.next=13;break}return e.next=10,a.service.getUserActivity(a.context.user._id);case 10:s=e.sent,console.log("feed posts",t.data),a.setState({feed:t.data.posts,public:n.data.posts,activity:s.data.activity});case 13:a.setState({feed:t.data.posts,public:n.data.posts});case 14:case"end":return e.stop()}},e)})),a.getFeedPosts=Object(A.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.service=new g,e.next=3,a.service.getFeedPosts();case 3:t=e.sent,a.setState({feed:t.data.posts,postForm:!1});case 5:case"end":return e.stop()}},e)})),a.getPublicPosts=Object(A.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.service=new g,e.next=3,a.service.getPublicPosts();case 3:t=e.sent,a.setState({public:t.data.posts,postForm:!1});case 5:case"end":return e.stop()}},e)})),a.renderHomepage=function(){return"/feed"===a.props.match.path?s.a.createElement(_,{posts:a.state.feed,postForm:a.state.postForm,togglePostForm:a.togglePostForm,setPostForm:a.setPostForm,handlePostSubmit:a.handlePostSubmit,updatePost:a.updatePost,deletePost:a.deletePost}):"/public"===a.props.match.path?s.a.createElement(_,{posts:a.state.public,postForm:a.state.postForm,togglePostForm:a.togglePostForm,setPostForm:a.setPostForm,handlePostSubmit:a.handlePostSubmit,updatePost:a.updatePost,deletePost:a.deletePost}):"/profile"===a.props.match.path?s.a.createElement(Q,{activity:a.state.activity}):"/question/:id"===a.props.match.path?s.a.createElement(J,null):void 0},a.togglePostForm=function(){a.setState({postForm:!a.state.postForm})},a.handlePostSubmit=function(e){e.preventDefault(),a.service=new g;var t=new FormData(e.target),n=t.get("title"),s=t.get("description");a.service.createPost(n,s).then(function(e){"/feed"===a.props.match.path?(a.postForm.reset(),a.getFeedPosts()):"/public"===a.props.match.path&&(a.postForm.reset(),a.getPublicPosts())}).catch(function(e){console.log(e)})},a.setPostForm=function(e){a.postForm=e},a.updatePost=function(e,t){a.service=new g,a.service.updatePost(e).then(function(e){"/feed"===a.props.match.path&&t(),"/public"===a.props.match.path&&t()}).catch(function(e){console.log(e)})},a.deletePost=function(e){a.service=new g,a.service.deletePost(e).then(function(e){"/feed"===a.props.match.path&&a.getFeedPosts(),"/public"===a.props.match.path&&a.getPublicPosts()})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(O,{passSearchData:this.passSearchData}),s.a.createElement("div",{className:"my-container"},s.a.createElement("div",{className:"row"},s.a.createElement(D,null),this.renderHomepage(),s.a.createElement($,null))))}}]),t}(n.Component);z.contextType=w;var K=z,V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={user:a.props.user,removeButton:!1},a.addFriend=function(){a.services=new g,a.services.addFriend(a.state.user._id).then(function(e){a.socket.emit("newFriendRequest",{user:a.context.user,friend:a.state.user}),a.setState({removeButton:!0})}).catch(function(e){console.log(e)})},a.removeFriend=function(){console.log(a.state.user._id),a.services=new g,a.services.removeFriend(a.state.user._id).then(function(e){console.log(e),a.socket.emit("removedFriendRequest",{user:a.context.user,friend:a.state.user}),a.setState({removeButton:!1})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.socket=k()("https://devsol-api.herokuapp.com")}},{key:"render",value:function(){return s.a.createElement("ul",{className:"collection col s6"},s.a.createElement("li",{className:"collection-item avatar"},s.a.createElement("img",{src:this.state.user.img,alt:"",className:"circle"}),s.a.createElement("span",{className:"title"},this.state.user.name),s.a.createElement("p",null,this.state.user.username),this.context.user&&this.context.friendsIDs&&(this.context.friendsIDs.includes(this.state.user._id)||this.state.removeButton||this.context.user.friends.outcomingRequests.includes(this.state.user._id)?s.a.createElement("button",{onClick:this.removeFriend,className:"btn-flat secondary-content"},"Remove"):s.a.createElement("button",{onClick:this.addFriend,className:"btn-flat secondary-content"},"Add"))))}}]),t}(n.Component);V.contextType=w;var X=V,Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={users:null,questions:null},a.searchResults=function(e){a.services=new g,a.services.searchResults(e).then(function(e){a.setState({users:e.data.users,questions:e.data.questions})}).catch(function(e){console.log(e)})},a.renderUserResults=function(){if(a.state.users)return a.state.users.map(function(e){return a.context.user?e._id!==a.context.user._id?s.a.createElement(X,{key:e._id,user:e}):void 0:s.a.createElement(X,{key:e._id,user:e})})},a.renderQuestionsResults=function(){if(a.state.questions)return a.state.questions.map(function(e){return s.a.createElement(o.b,{to:"/question/".concat(e._id)},s.a.createElement("div",{class:"collection col s11 push-s1 question-result-card"},s.a.createElement("span",{class:"title search-question-title"},e.title),s.a.createElement("p",{className:"question-content"},e.content)))})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search.split("?q=")[1];console.log(e),this.searchResults(e)}},{key:"shouldComponentUpdate",value:function(e){return this.props.location.search!==e.location.search&&(console.log(e.location.search.split("?q=")[1]),this.searchResults(e.location.search.split("?q=")[1]),!0)}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(O,null),s.a.createElement("div",{className:"my-container"},s.a.createElement("div",{className:"row"},s.a.createElement(D,null),s.a.createElement("div",{className:"col s7"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("h4",{className:"results-title"},"Results for Users:")),s.a.createElement("div",{className:"row no-margin"},this.renderUserResults())),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("h4",{className:"results-title"},"Results for Questions:")),s.a.createElement("div",{className:"row no-margin"},this.renderQuestionsResults()))),this.context.user&&s.a.createElement($,null))))}}]),t}(n.Component);Z.contextType=w;var ee=Z,te=(a(121),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={emitter:"",receiver:"",room:"",loading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(S.a.mark(function e(){var t,a,n,s=this;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.services=new g,this.socket=k()("https://devsol-api.herokuapp.com"),e.prev=2,e.next=5,this.services.getUserById(this.props.match.params.userEmitter);case 5:return t=e.sent,e.next=8,this.services.getUserById(this.props.match.params.userReceiver);case 8:a=e.sent,n={emitter:t.data.user,receiver:a.data.user},this.socket.emit("chat:online",n,function(e){console.log(e),s.setState({emitter:t.data.user,receiver:a.data.user,room:e,loading:!1})}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(O,null),this.state.loading?s.a.createElement("p",null,"Loading ..."):s.a.createElement("iframe",{className:"chat-box",src:"https://sergui-test-chat.herokuapp.com/?nombre=".concat(this.state.emitter.name,"&sala=").concat(this.state.room,"&friend=").concat(this.state.receiver.name)}))}}]),t}(n.Component)),ae=(a(122),document.getElementById("footer"));var ne=function(){return r.a.createPortal(s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row no-margin footer-row"},s.a.createElement("div",{className:"col s4 left-align"},s.a.createElement("img",{src:"/assets/whiteLogo.png",width:"300px"})),s.a.createElement("div",{className:"col s4 center-align"},s.a.createElement("ul",{className:"footer-ul"},s.a.createElement("li",null,"About"),s.a.createElement("li",null,"Questions"),s.a.createElement("li",null,"Jobs"))),s.a.createElement("div",{className:"col s4 follow-us-col"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12 center-align"},s.a.createElement("h5",{className:"footer-title"},"Follow us"))),s.a.createElement("div",{className:"row no-margin"},s.a.createElement("div",{className:"col s12"},s.a.createElement("img",{className:"social-network-footer",src:"/assets/social-networks.png"})))))))),ae)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(123);var se=document.getElementById("section1");r.a.render(s.a.createElement(N,null,s.a.createElement(o.a,null,s.a.createElement(l.d,null,s.a.createElement(l.b,{exact:!0,path:"/",component:P}),s.a.createElement(l.b,{exact:!0,path:"/question/:id",component:K}),s.a.createElement(l.b,{exact:!0,path:"/search",component:ee}),s.a.createElement(w.Consumer,null,function(e){return e.user?s.a.createElement(n.Fragment,null,s.a.createElement(l.b,{exact:!0,path:"/feed",component:K}),s.a.createElement(l.b,{exact:!0,path:"/public",component:K}),s.a.createElement(l.b,{exact:!0,path:"/profile",component:K}),s.a.createElement(l.b,{exact:!0,path:"/chat/:userEmitter/:userReceiver",component:te})):s.a.createElement(l.a,{to:"/"})})),s.a.createElement(ne,null))),se),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a(124)}},[[64,1,2]]]);
//# sourceMappingURL=main.9d0f1cc5.chunk.js.map